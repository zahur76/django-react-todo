(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(10),o=n.n(s),i=(n(37),n(6)),l=(n(38),n(22)),r=n(9),u=n(12),j=n(1);var d=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(i.a)(s,2),d=o[0],b=o[1],h=Object(c.useState)(null),m=Object(i.a)(h,2),x=m[0],O=m[1],f=Object(c.useState)(localStorage.getItem("login")),g=Object(i.a)(f,2),p=g[0],v=g[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)(l.a,{className:"Header m-0 bg-dark text-white p-1",children:[Object(j.jsx)(r.a,{className:"h1 my-auto",xs:0,md:2}),Object(j.jsx)(r.a,{className:"h1 my-auto",xs:9,md:8,children:"Django-React Todo API"}),Object(j.jsx)(r.a,{className:"my-auto",xs:3,md:2,children:Object(j.jsx)("div",{children:"true"===p?Object(j.jsx)("div",{onClick:function(e){e.preventDefault(),fetch("/api/logout").then((function(e){return e.json()})).then((function(e){return[localStorage.setItem("login",!1)]})).then((function(){v(localStorage.getItem("login")),window.location.reload(!1)}))},className:"btn text-light login-text",children:"Logout"}):Object(j.jsx)("div",{onClick:function(){return a(!0)},className:"btn text-light login-text",children:"Login"})})})]}),Object(j.jsxs)(u.a,{show:n,onHide:function(){return a(!1)},children:[Object(j.jsx)(u.a.Header,{className:"p-2",closeButton:!0,children:Object(j.jsx)(u.a.Title,{className:"p-1",children:"Login"})}),Object(j.jsx)(u.a.Body,{children:Object(j.jsxs)("form",{className:"w-75 mx-auto form-add-todo",onSubmit:function(e){e.preventDefault();var t={username:d,password:x};fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return[a(!1),localStorage.setItem("login",e.login)]})).then((function(){v(localStorage.getItem("login")),window.location.reload(!1)}))},children:[Object(j.jsx)("input",{className:"col-12 m-1",type:"text",username:d,onChange:function(e){b(e.target.value)},placeholder:"username",required:!0}),Object(j.jsx)("input",{className:"col-12 m-1",type:"password",password:x,onChange:function(e){O(e.target.value)},placeholder:"password",required:!0}),Object(j.jsx)("input",{className:"col-12 btn bg-dark text-light mt-2",type:"submit",value:"Submit"})]})})]})]})},b=(n(42),n(30)),h=n(20);var m=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(i.a)(s,2),d=o[0],m=o[1],x=Object(c.useState)(null),O=Object(i.a)(x,2),f=O[0],g=O[1],p=Object(c.useState)(null),v=Object(i.a)(p,2),N=v[0],S=v[1],y=Object(c.useState)(null),w=Object(i.a)(y,2),k=w[0],C=w[1];Object(c.useEffect)((function(){S(localStorage.getItem("login"))}),[]),Object(c.useEffect)((function(){fetch("/api").then((function(e){return e.json()})).then((function(e){return C(e)})).catch((function(e){console.log(e)}))}),[]);var I=function(e){fetch("/api/status/".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return C(e)})).catch((function(e){console.log(e)}))},T=function(e){fetch("/api/remove/".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return C(e)})).catch((function(e){console.log(e)}))},A=(k||[]).map((function(e){return Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)(h.a,{className:"w-75 mx-auto mb-2 mt-3",defaultActiveKey:"1",children:Object(j.jsxs)(h.a.Item,{eventKey:"0",children:[Object(j.jsx)(h.a.Header,{children:Object(j.jsx)(r.a,{xs:12,children:Object(j.jsxs)("div",{className:"text-dark h5",children:[e.pk,".",e.fields.title]})})}),Object(j.jsx)(h.a.Body,{children:Object(j.jsxs)(l.a,{className:"text-center todo-list",children:[Object(j.jsx)(r.a,{xs:12,className:"h5",children:e.fields.description}),Object(j.jsx)(r.a,{xs:6,children:"Created"}),Object(j.jsx)(r.a,{xs:6,children:"Status"}),Object(j.jsx)(r.a,{className:"border-bottom border-dark mb-2",xs:12}),Object(j.jsx)(r.a,{xs:6,children:e.fields.created_at.substring(0,10)}),Object(j.jsx)(r.a,{xs:6,children:e.fields.completed?"Complete":"Pending"}),"true"===N?Object(j.jsxs)(r.a,{className:"buttons mt-2",xs:12,children:[Object(j.jsx)(b.a,{onClick:T,value:e.pk,className:"m-1 bg-danger text-light text-right",children:"Remove"}),Object(j.jsx)(b.a,{onClick:I,value:e.pk,className:"m-1 bg-success text-light text-right",children:"Update"})]}):Object(j.jsx)("div",{})]})})]})})},e.pk)}));return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"Todo",children:["true"===N?Object(j.jsx)(b.a,{onClick:function(){return a(!0)},className:"m-1 text-light h5 mt-3 w-75 mx-auto add-todo",children:"Add Item"}):Object(j.jsx)("div",{}),A]}),Object(j.jsxs)(u.a,{show:n,onHide:function(){return a(!1)},children:[Object(j.jsx)(u.a.Header,{className:"p-2",closeButton:!0,children:Object(j.jsx)(u.a.Title,{children:"Add Todo item"})}),Object(j.jsx)(u.a.Body,{children:Object(j.jsxs)("form",{className:"w-75 mx-auto form-add-todo",onSubmit:function(){var e={name:d,description:f};fetch("/api/add_todo",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return C(e)}))},children:[Object(j.jsx)("input",{className:"col-12 m-1",type:"text",name:d,onChange:function(e){m(e.target.value),console.log(d)},placeholder:"Item Name",required:!0}),Object(j.jsx)("input",{className:"col-12 m-1",type:"text",name:f,onChange:function(e){g(e.target.value),console.log(f)},placeholder:"description",required:!0}),Object(j.jsx)("input",{className:"col-12 btn bg-dark text-light mt-2",type:"submit",value:"Submit"})]})})]})]})};n(43);var x=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsx)(m,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),O()}},[[44,1,2]]]);
//# sourceMappingURL=main.77475fb5.chunk.js.map